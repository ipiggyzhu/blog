<template>
  <TkPageCard :title="wechatAccount.title">
    <div class="wechat-card">
      <!-- ÂÖ¨‰ºóÂè∑ÂÜÖÂÆπ -->
      <div class="wechat-content">
        <!-- ÂÖ¨‰ºóÂè∑ÂõæÁâá -->
        <div class="wechat-qrcode-container">
          <img 
            class="wechat-qrcode" 
            :src="wechatAccount.qrcodeImage" 
            :alt="wechatAccount.subtitle"
            loading="lazy"
          >
        </div>
        
        <!-- ÂÖ¨‰ºóÂè∑ÊèèËø∞ -->
        <div class="wechat-description">
          <h3 class="wechat-name">
            {{ wechatAccount.subtitle }}
          </h3>
          <p class="wechat-intro">
            {{ wechatAccount.description }}
          </p>
        </div>

        <!-- Â∫ïÈÉ®Êìç‰ΩúÂå∫ -->
        <div class="wechat-footer">
          <a class="follow-link" :href="wechatAccount.followLink" :target="getTargetValue()">
            <span>{{ wechatAccount.followText }}</span>
            <svg class="link-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="8.5" cy="7" r="4"/>
              <line x1="20" y1="8" x2="20" y2="14"/>
              <line x1="23" y1="11" x2="17" y2="11"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </TkPageCard>
</template>

<script setup lang="ts">
import { TkPageCard } from "vitepress-theme-teek";

// ÂÖ¨‰ºóÂè∑ÂÜÖÂÆπÁ±ªÂûã
interface WechatAccount {
  title: string;         // Âç°ÁâáÊ†áÈ¢ò
  subtitle: string;      // ÂÖ¨‰ºóÂè∑ÂêçÁß∞
  description: string;   // ÂÖ¨‰ºóÂè∑ÁÆÄ‰ªã
  qrcodeImage: string;   // ÂÖ¨‰ºóÂè∑‰∫åÁª¥Á†ÅÂõæÁâáË∑ØÂæÑ
  followLink: string;    // ÂÖ≥Ê≥®ÈìæÊé•
  followText: string;    // ÂÖ≥Ê≥®ÊåâÈíÆÊñáÊú¨
}

// ÂÖ¨‰ºóÂè∑ÂÜÖÂÆπ - ËØ∑ÊõøÊç¢‰∏∫ÊÇ®Ëá™Â∑±ÁöÑ‰ø°ÊÅØ
const wechatAccount: WechatAccount = {
  title: 'üì± ÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑',
  subtitle: 'ÊàëÁöÑÂÖ¨‰ºóÂè∑',  // ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂÖ¨‰ºóÂè∑ÂêçÁß∞
  description: 'ÂàÜ‰∫´ÂâçÁ´ØÂºÄÂèëÊäÄÂ∑ß„ÄÅËøêÁª¥Áü•ËØÜ„ÄÅVitePress‰ΩøÁî®ÁªèÈ™åÂíåÊäÄÊúØÊàêÈïøÂøÉÂæóÔºåÊ¨¢ËøéÂÖ≥Ê≥®‰∫§ÊµÅÔºÅ',  // ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂÖ¨‰ºóÂè∑ÁÆÄ‰ªã
  qrcodeImage: 'https://img.onedayxyy.cn/images/wechat-gzh.jpg',  // ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂÖ¨‰ºóÂè∑‰∫åÁª¥Á†ÅÂõæÁâáURL
  followLink: 'https://img.onedayxyy.cn/images/wechat-gzh.jpg',  // ÂèØ‰ª•ÊõøÊç¢‰∏∫ÂÖ¨‰ºóÂè∑ÊñáÁ´†ÈìæÊé•ÊàñÁõ∏ÂÖ≥È°µÈù¢
  followText: 'Êâ´Á†ÅÂÖ≥Ê≥®',
};

// Âà§Êñ≠ÊòØÂê¶‰∏∫Â§ñÈìæ
const isExternalLink = (): boolean => {
  const url: string = wechatAccount.followLink
  return /^(https?:\/\/|\/\/)/.test(url);
};

// Ëé∑ÂèñÁΩëÈ°µÊâìÂºÄÊñπÂºè
const getTargetValue = (): string => {
  return isExternalLink() ? '_blank' : '_self';
};
</script>

<style scoped>
.wechat-card {
  --link-color: #888;
  --link-hover: #6366f1;
}

html.dark .wechat-card {
  --link-color: #aaa;
  --link-hover: #818cf8;
}

.wechat-content {
  padding: 10px;
  text-align: center;
}

/* ÂÖ¨‰ºóÂè∑‰∫åÁª¥Á†ÅÊ†∑Âºè */
.wechat-qrcode-container {
  margin: 0 auto 16px;
  padding: 8px;
  background: #fff;
  border-radius: 8px;
  display: inline-block;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

html.dark .wechat-qrcode-container {
  background: #2d2d2d;
}

.wechat-qrcode {
  width: 100%;
  max-width: 200px;
  height: auto;
  border-radius: 4px;
}

/* ÂÖ¨‰ºóÂè∑ÊèèËø∞Ê†∑Âºè */
.wechat-description {
  margin-bottom: 16px;
}

.wechat-name {
  margin: 0 0 8px 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--text-color);
}

.wechat-intro {
  margin: 0;
  color: var(--text-color);
  line-height: 1.6;
  font-size: 14px;
  padding: 0 4px;
}

/* Â∫ïÈÉ®Êìç‰ΩúÂå∫Ê†∑Âºè */
.wechat-footer {
  display: flex;
  justify-content: center;
}

.follow-link {
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  color: var(--link-color);
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  transition: all 0.2s ease;
  gap: 6px;
  border-radius: 4px;
}

.follow-link:hover {
  color: var(--link-hover);
  background-color: rgba(99, 102, 241, 0.1);
}

.link-icon {
  width: 16px;
  height: 16px;
  transition: transform 0.2s ease;
}

.follow-link:hover .link-icon {
  transform: translateY(-2px);
}
</style>
    